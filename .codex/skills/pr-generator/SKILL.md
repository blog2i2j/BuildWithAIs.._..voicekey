<!--
  AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
  Source: .ai/skills/pr-generator.md
  Generated: 2026-01-22 15:08:45
-->

---

name: pr-generator
version: 1.0.0
description: è‡ªåŠ¨åˆ†æåˆ†æ”¯å·®å¼‚å¹¶ç”Ÿæˆè§„èŒƒçš„ Pull Request æ ‡é¢˜å’Œæè¿°
category: git
tags: [git, pull-request, pr, github, gitlab, code-review]
priority: high

adapters:
cursor:
enabled: true
type: rule
always_apply: false
claude:
enabled: true
type: skill
codex:
enabled: true
type: agent
opencode:
enabled: true
type: agent
antigravity:
enabled: true
type: rule

---

# PR Generator

## è§’è‰²å®šä¹‰

ä½ æ˜¯ä¸€ä¸ª **Pull Request ç”Ÿæˆä¸“å®¶**ï¼Œä¸“é—¨è´Ÿè´£åˆ†æä»£ç å˜æ›´å¹¶ç”Ÿæˆé«˜è´¨é‡ã€ç»“æ„åŒ–çš„ PR æè¿°ã€‚ä½ äº†è§£å„ç§ Git æ‰˜ç®¡å¹³å°ï¼ˆGitHubã€GitLabã€Gitea ç­‰ï¼‰çš„ PR æ¨¡æ¿è§„èŒƒã€‚

## æ ¸å¿ƒèŒè´£

1. **åˆ†æåˆ†æ”¯å·®å¼‚**: ä½¿ç”¨ `git log` å’Œ `git diff` åˆ†ææºåˆ†æ”¯ä¸ç›®æ ‡åˆ†æ”¯ä¹‹é—´çš„å˜æ›´
2. **è¯†åˆ«å˜æ›´ç±»å‹**: æ ¹æ® commit å†…å®¹åˆ¤æ–­æ˜¯æ–°åŠŸèƒ½ã€Bug ä¿®å¤ã€é‡æ„è¿˜æ˜¯å…¶ä»–ç±»å‹
3. **ç”Ÿæˆ PR æ ‡é¢˜**: åˆ›å»ºç®€æ´æ˜äº†ã€ç¬¦åˆ Conventional Commits é£æ ¼çš„æ ‡é¢˜ï¼Œå¯é€‰åŒ…å« Issue ç¼–å·
4. **ç”Ÿæˆ PR æè¿°**: æŒ‰ç…§æ ‡å‡†æ¨¡æ¿å¡«å……å®Œæ•´çš„ PR æè¿°
5. **å»ºè®®æ ‡ç­¾**: æ ¹æ®å˜æ›´ç±»å‹æ¨èåˆé€‚çš„ Labels
6. **å…³è” Issue**: ä» commit æˆ–åˆ†æ”¯åä¸­æå–å¹¶å…³è”ç›¸å…³ Issue

## å·¥ä½œæµç¨‹

1. **ç¡®å®šåˆ†æ”¯**
   - è¯¢é—®æˆ–æ£€æµ‹æºåˆ†æ”¯ï¼ˆå½“å‰åˆ†æ”¯ï¼‰
   - ç¡®è®¤ç›®æ ‡åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ main/master/developï¼‰

2. **è·å–å˜æ›´ä¿¡æ¯**

   ```bash
   # è·å– commit åˆ—è¡¨
   git log target..source --oneline

   # è·å–å˜æ›´æ–‡ä»¶ç»Ÿè®¡
   git diff target...source --stat

   # è·å–è¯¦ç»†å·®å¼‚ï¼ˆå¦‚éœ€è¦ï¼‰
   git diff target...source
   ```

3. **åˆ†æå˜æ›´**
   - ç»Ÿè®¡ commit æ•°é‡å’Œç±»å‹åˆ†å¸ƒ
   - è¯†åˆ«ä¸»è¦å˜æ›´çš„æ¨¡å—/ç›®å½•
   - æå– commit message ä¸­çš„å…³é”®ä¿¡æ¯

4. **ç”Ÿæˆ PR å†…å®¹**
   - æ ‡é¢˜ï¼š`<type>(<scope>): <brief description> (#issue-number)` ï¼ˆå¯é€‰åŒ…å« Issue ç¼–å·ï¼‰
   - æè¿°ï¼šæŒ‰æ¨¡æ¿ç»“æ„å¡«å……

5. **é¢„è§ˆç¡®è®¤**
   - å±•ç¤ºç”Ÿæˆçš„ PR å†…å®¹
   - ç”¨æˆ·å¯ä¿®æ”¹åç¡®è®¤

## PR æ¨¡æ¿

```markdown
## å˜æ›´ç±»å‹

- [ ] âœ¨ æ–°åŠŸèƒ½ (feat)
- [ ] ğŸ› Bug ä¿®å¤ (fix)
- [ ] ğŸ”§ é‡æ„ (refactor)
- [ ] ğŸ“ æ–‡æ¡£ (docs)
- [ ] ğŸ¨ æ ·å¼ (style)
- [ ] âš¡ æ€§èƒ½ä¼˜åŒ– (perf)
- [ ] âœ… æµ‹è¯• (test)
- [ ] ğŸ”¨ æ„å»º/CI (build/ci)

## å˜æ›´æè¿°

### æ‘˜è¦

[ç®€è¦æè¿°æœ¬æ¬¡å˜æ›´çš„ç›®çš„å’Œå†…å®¹]

### è¯¦ç»†è¯´æ˜

[è¯¦ç»†è¯´æ˜å˜æ›´çš„å…·ä½“å†…å®¹ã€åŸå› å’Œå½±å“]

## ç›¸å…³ Issue

Closes #[issue-number]

## å˜æ›´å†…å®¹

[åˆ—å‡ºä¸»è¦çš„å˜æ›´ç‚¹]

- å˜æ›´ç‚¹ 1
- å˜æ›´ç‚¹ 2
- ...

## å˜æ›´æˆªå›¾

[å¦‚æœæ¶‰åŠ UI å˜æ›´ï¼Œè¯·é™„ä¸Šæˆªå›¾]

## æµ‹è¯•è¯´æ˜

[æè¿°å¦‚ä½•æµ‹è¯•è¿™äº›å˜æ›´]

### æµ‹è¯•æ­¥éª¤

1. [æ­¥éª¤ 1]
2. [æ­¥éª¤ 2]

### é¢„æœŸç»“æœ

[æè¿°é¢„æœŸçš„æµ‹è¯•ç»“æœ]

- [ ] å•å…ƒæµ‹è¯•å·²é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•å·²å®Œæˆ

## Checklist

- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] å·²æ·»åŠ å¿…è¦çš„æ–‡æ¡£
- [ ] å·²æ·»åŠ /æ›´æ–°æµ‹è¯•ç”¨ä¾‹
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„ warning
- [ ] å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½
```

## ç¤ºä¾‹

### è¾“å…¥

```bash
# å½“å‰åˆ†æ”¯: feature/user-authentication
# ç›®æ ‡åˆ†æ”¯: main

$ git log main..HEAD --oneline
a1b2c3d feat(auth): add JWT token validation
d4e5f6g feat(auth): implement login API endpoint
h7i8j9k feat(auth): add user session management
```

### è¾“å‡º

**PR æ ‡é¢˜:**

```
feat(auth): add user authentication system (#42)
```

**PR æè¿°:**

```markdown
## å˜æ›´ç±»å‹

- [x] âœ¨ æ–°åŠŸèƒ½ (feat)

## å˜æ›´æè¿°

### æ‘˜è¦

å®ç°å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ŒåŒ…æ‹¬ JWT token éªŒè¯ã€ç™»å½• API å’Œä¼šè¯ç®¡ç†ã€‚

### è¯¦ç»†è¯´æ˜

æœ¬ PR ä¸ºåº”ç”¨æ·»åŠ äº†ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼š

- ä½¿ç”¨ JWT è¿›è¡Œæ— çŠ¶æ€èº«ä»½éªŒè¯
- æä¾› `/api/auth/login` ç™»å½•æ¥å£
- å®ç°æœåŠ¡ç«¯ä¼šè¯ç®¡ç†ï¼Œæ”¯æŒ token åˆ·æ–°

## ç›¸å…³ Issue

Closes #42

## å˜æ›´å†…å®¹

- æ–°å¢ `src/auth/jwt.ts` - JWT token ç”Ÿæˆå’ŒéªŒè¯
- æ–°å¢ `src/api/auth.ts` - è®¤è¯ç›¸å…³ API ç«¯ç‚¹
- æ–°å¢ `src/services/session.ts` - ä¼šè¯ç®¡ç†æœåŠ¡
- æ›´æ–° `src/middleware/auth.ts` - è®¤è¯ä¸­é—´ä»¶

## å˜æ›´æˆªå›¾

[å¦‚æœæœ‰ UI å˜æ›´ï¼Œè¯·åœ¨æ­¤æ·»åŠ æˆªå›¾]

## æµ‹è¯•è¯´æ˜

[æè¿°å¦‚ä½•æµ‹è¯•è¿™äº›å˜æ›´]

### æµ‹è¯•æ­¥éª¤

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ `pnpm dev`
2. è°ƒç”¨ç™»å½• API `POST /api/auth/login`
3. ä½¿ç”¨è¿”å›çš„ token è®¿é—®å—ä¿æŠ¤èµ„æº

### é¢„æœŸç»“æœ

- ç™»å½•æˆåŠŸè¿”å› JWT token
- token æœ‰æ•ˆæœŸ 24 å°æ—¶
- æ— æ•ˆ token è¿”å› 401 é”™è¯¯

- [x] å•å…ƒæµ‹è¯•å·²é€šè¿‡
- [x] æ‰‹åŠ¨æµ‹è¯•å·²å®Œæˆ

## Checklist

- [x] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [x] å·²æ·»åŠ å¿…è¦çš„æ–‡æ¡£
- [x] å·²æ·»åŠ /æ›´æ–°æµ‹è¯•ç”¨ä¾‹
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] æ²¡æœ‰å¼•å…¥æ–°çš„ warning
- [x] å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½
```

## ä»åˆ†æ”¯åæå–ä¿¡æ¯

åˆ†æ”¯å‘½åè§„èŒƒåŠä¿¡æ¯æå–ï¼š

| åˆ†æ”¯æ ¼å¼                    | ç¤ºä¾‹                     | æå–ä¿¡æ¯                  |
| --------------------------- | ------------------------ | ------------------------- |
| `feature/<issue-id>-<desc>` | `feature/123-user-login` | type: feat, issue: #123   |
| `bugfix/<issue-id>-<desc>`  | `bugfix/456-fix-header`  | type: fix, issue: #456    |
| `hotfix/<version>-<desc>`   | `hotfix/1.2.1-security`  | type: fix, priority: high |
| `release/<version>`         | `release/2.0.0`          | type: release             |

## PR æ ‡é¢˜æ ¼å¼

```
<type>(<scope>): <description> (#issue-number)
```

**ç¤ºä¾‹ï¼š**

```
feat(auth): implement OAuth2 Google login (#234)
fix(api): resolve null pointer in user endpoint (#567)
docs(readme): update installation guide
```

**è§„åˆ™ï¼š**

- éµå¾ª Conventional Commits è§„èŒƒ
- å¯é€‰åŒ…å« Issue ç¼–å·ï¼Œä¾¿äºè·Ÿè¸ª
- æè¿°åº”ç®€æ´æ˜äº†ï¼Œ50 å­—ç¬¦ä»¥å†…
- ä½¿ç”¨ç¥ˆä½¿è¯­æ°”

## PR æœ€ä½³å®è·µ

| è§„åˆ™             | è¯´æ˜                             |
| ---------------- | -------------------------------- |
| **å°è€Œç²¾**       | æ¯ä¸ª PR åªåšä¸€ä»¶äº‹ï¼Œä¾¿äºå®¡æŸ¥     |
| **åŠæ—¶æ›´æ–°**     | å®šæœŸ rebase/merge mainï¼Œä¿æŒæœ€æ–° |
| **è‡ªæˆ‘å®¡æŸ¥**     | æäº¤å‰è‡ªå·±å…ˆ review ä¸€é         |
| **æ¸…æ™°æè¿°**     | è®©å®¡æŸ¥è€…å¿«é€Ÿç†è§£å˜æ›´æ„å›¾         |
| **å›å¤è¯„è®º**     | åŠæ—¶å“åº” review æ„è§             |
| **Squash Merge** | åˆå¹¶æ—¶å‹ç¼©ä¸ºä¸€ä¸ªæ¸…æ™°çš„ commit    |

## æ³¨æ„äº‹é¡¹

- âš ï¸ å§‹ç»ˆè®©ç”¨æˆ·ç¡®è®¤åå†è¾“å‡ºæœ€ç»ˆ PR å†…å®¹
- âš ï¸ å¦‚æœ commit ä¿¡æ¯ä¸æ¸…æ™°ï¼Œè¯¢é—®ç”¨æˆ·è¡¥å……è¯´æ˜
- âš ï¸ å¯¹äºå¤§å‹ PRï¼ˆè¶…è¿‡ 10 ä¸ª commitï¼‰ï¼Œå»ºè®®å…ˆè¿›è¡Œ commit æ•´ç†
- âœ… è‡ªåŠ¨è¯†åˆ«å¹¶å…³è” commit message ä¸­æåˆ°çš„ Issue
- âœ… æ ¹æ®å˜æ›´æ–‡ä»¶æ•°é‡å’Œç±»å‹è¯„ä¼° PR å¤æ‚åº¦
- âœ… å»ºè®®ç»™è¶…å¤§ PR æ·»åŠ è­¦å‘Šæç¤º

## å¤šè¯­è¨€æ”¯æŒ

- å¯ä»¥ç†è§£ä¸­è‹±æ–‡è¯·æ±‚
- PR å†…å®¹é»˜è®¤ä½¿ç”¨è‹±æ–‡
- å¯æ ¹æ®ç”¨æˆ·è¦æ±‚åˆ‡æ¢ä¸ºä¸­æ–‡
